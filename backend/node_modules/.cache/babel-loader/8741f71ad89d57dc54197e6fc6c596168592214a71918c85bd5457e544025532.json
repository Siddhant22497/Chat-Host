{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Siddhant\\\\OneDrive\\\\Something\\\\chat_app\\\\src\\\\Homescreen.js\",\n  _s = $RefreshSig$();\nimport { React, useState, useRef, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  io\n} = require(\"socket.io-client\");\nconst socket = io.connect(\"http://localhost:5100\");\nexport default function Homescreen(receiver) {\n  _s();\n  var _location$state;\n  const location = useLocation();\n  const inputRef = useRef(null);\n  const [isgroupchat, setIsgroupchat] = useState(false);\n  const username = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.username) || \"Guest\";\n  const [searchusersgroup, setSearchUsersgroup] = useState([]);\n  const [searchusers, setSearchsUsers] = useState([]);\n  const [usersgroupname, setusersgroupname] = useState(\"\");\n  const [searchgroupMessages, setsearchGroupMessages] = useState([]);\n  const [searchbool, setSearchbool] = useState(false);\n  const [mscreen, setMscreen] = useState(true);\n  const senderGroupName = useRef(\"\");\n  const [currsendmessage, setCurrsendmessage] = useState({});\n  const [groupmessage, setGroupmessage] = useState(\"\");\n  const [addgroupModal, setAddgroupModal] = useState(false);\n  const [messagetext, setmessagetext] = useState(\"Type message here\");\n  const [intial_user_group, setIntial_user_group] = useState([]);\n  const [usersingroups, setUsersingroups] = useState([]);\n  const switchModal = () => {\n    setAddgroupModal(!addgroupModal);\n    let to_add_group = document.getElementById(\"to_add_group\");\n    if (addgroupModal) {\n      to_add_group.classList.remove(\"invisible\");\n      to_add_group.classList.add(\"visible\");\n    } else {\n      to_add_group.classList.remove(\"visible\");\n      to_add_group.classList.add(\"invisible\");\n      setSearchUsersgroup([]);\n      setUsersingroups([]);\n    }\n  };\n  const clickOnImage = event => {\n    const searchimage = document.getElementById('search_image');\n    let a = searchimage.attributes['src'];\n    senderGroupName.current = \"\";\n    setusersgroupname(\"\");\n    if (a.nodeValue == '/leftArrow.png') {\n      fetchintialusergroup();\n      a.nodeValue = '/searchIcon.png';\n      setSearchbool(false);\n      setMscreen(true);\n      setmessagetext(\"Type message here\");\n    } else {\n      a.nodeValue = '/leftArrow.png';\n      setSearchbool(true);\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }\n    event.stopPropagation();\n  };\n  const handleContainerClick = event => {\n    const target = event.target;\n    const searchimage = document.getElementById('search_image');\n    let a = searchimage.attributes['src'];\n    const flag = target.classList.contains('searchnot');\n  };\n  const oninput = async e => {\n    const value = e.target.value;\n    setSearchbool(true);\n    senderGroupName.current = \"\";\n    setusersgroupname(\"\");\n    if (value.length > 0) {\n      const response = await fetch('http://localhost:5010/tofetch', {\n        method: 'POST',\n        body: JSON.stringify({\n          \"username\": value\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      const data_users = data.users;\n      const data_group = data.groupMessages;\n      setSearchsUsers(data_users || []);\n      setsearchGroupMessages(data_group || []);\n    } else {\n      setSearchsUsers([]);\n      setsearchGroupMessages([]);\n    }\n  };\n  useEffect(() => {\n    const handleReceiveMessage = data => {\n      const currentDate = data.currentDate;\n      const currentTime = data.currentTime;\n      const sender = data.sender;\n      const receiver = data.receiver;\n      const textToSend = data.textToSend;\n      console.log(\"Now this is working\");\n      fetchintialusergroup();\n      if (currsendmessage == \"\") {\n        setCurrsendmessage({\n          \"currentDate\": currentDate,\n          \"currentTime\": currentTime,\n          \"sender\": sender,\n          \"receiver\": receiver,\n          \"textToSend\": textToSend\n        });\n        if (senderGroupName.current == \"\") return;\n        if (isgroupchat == false) {\n          if (senderGroupName.current === receiver) loadindimess(receiver, senderGroupName.current);\n        }\n      } else if (currsendmessage[\"currentTime\"] != currentTime) {\n        setCurrsendmessage({\n          \"currentDate\": currentDate,\n          \"currentTime\": currentTime,\n          \"sender\": sender,\n          \"receiver\": receiver,\n          \"textToSend\": textToSend\n        });\n        if (senderGroupName.current == \"\") return;\n        if (isgroupchat == false) {\n          if (senderGroupName.current === receiver) loadindimess(username, receiver);\n        }\n      }\n    };\n    const handleGroupReceiveMessage = data => {\n      const currentDate = data.currentDate;\n      const currentTime = data.currentTime;\n      const groupname = data.groupname;\n      const sender = data.receiver;\n      const chat = data.textToSend;\n      fetchintialusergroup();\n      if (Object.keys(groupmessage).length === 0) {\n        setGroupmessage({\n          currentDate,\n          currentTime,\n          groupname,\n          sender,\n          chat\n        });\n        if (senderGroupName.current == \"\") return;\n        if (isgroupchat == true) {\n          if (senderGroupName.current == groupname) {\n            loadgroupmess(receiver, senderGroupName.current);\n          }\n        }\n      } else if (groupmessage.currentTime !== currentTime) {\n        setGroupmessage({\n          currentDate,\n          currentTime,\n          groupname,\n          receiver,\n          chat\n        });\n        if (senderGroupName.current == \"\") return;\n        if (isgroupchat == true) {\n          if (senderGroupName.current == groupname) {\n            loadgroupmess(receiver, senderGroupName.current);\n          }\n        }\n      }\n    };\n    socket.on(\"receive_message\", handleReceiveMessage);\n    socket.on(\"receive_group_message\", handleGroupReceiveMessage);\n    return () => {\n      socket.off(\"receive_message\", handleReceiveMessage);\n    };\n  });\n  const startindivimessage = async (e, u2, flag = \"false\") => {\n    setMscreen(false);\n    const receiver = username;\n    const sender = u2;\n    setIsgroupchat(false);\n    if (sender == receiver) {\n      const t1 = receiver + ' (Self)';\n      setusersgroupname(t1);\n      senderGroupName.current = t1;\n    } else {\n      setusersgroupname(sender);\n      senderGroupName.current = sender;\n      if (flag == \"true\") {\n        const identifier1 = receiver + '#' + sender;\n        const identifier2 = sender + '#' + receiver;\n        socket.emit(\"join_room\", identifier1);\n        socket.emit(\"join_room\", identifier2);\n      }\n    }\n    setmessagetext(\"Type message here\");\n    loadindimess(receiver, sender);\n  };\n  const startgroupmessage = async (e, groupname) => {\n    setMscreen(false);\n    setIsgroupchat(true);\n    setmessagetext(\"Type message here\");\n    const receiver = username;\n    setusersgroupname(groupname);\n    senderGroupName.current = groupname;\n    loadgroupmess(receiver, groupname);\n  };\n  const loadgroupmess = async (receiver, groupname) => {\n    const response = await fetch('http://localhost:5200/loadgroupmessage', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"groupname\": groupname\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const result = await response.json();\n    const messageDisplayContainer = document.getElementById(\"messageDisplay\");\n    if (messageDisplayContainer != null) {\n      messageDisplayContainer.innerHTML = \"\";\n    }\n    if (result.length === 0) {\n      messageDisplayContainer.innerHTML = \"\";\n      return;\n    }\n    let lastDate = \"28/12/2024\";\n    result.forEach(currentEle => {\n      const {\n        receiver: messageReceiver,\n        chat,\n        currentDate,\n        currentTime\n      } = currentEle;\n      if (currentDate !== lastDate) {\n        lastDate = currentDate;\n        const dateHeader = document.createElement(\"h1\");\n        dateHeader.className = \"flex justify-center items-center h-12\";\n        const dateContainer = document.createElement(\"span\");\n        dateContainer.className = \"bg-white border-3  border-yellow-700  text-[1.3vw] text-black h-[6vh] w-[6.5vw] py-[1vh] text-center rounded-md\";\n        dateContainer.innerText = currentDate;\n        dateHeader.append(dateContainer);\n        messageDisplayContainer.appendChild(dateHeader);\n      }\n      const messageBubble = document.createElement(\"div\");\n      messageBubble.className = `p-3 rounded-lg m-2 max-w-xs w-[20vw] ${username === messageReceiver ? \"bg-blue-500 text-white self-end ml-auto\" : \"bg-gray-200 text-black self-start mr-auto\"}`;\n      messageBubble.style.marginBottom = \"1rem\";\n      messageBubble.style.minHeight = \"10vh\";\n      messageBubble.style.height = \"auto\";\n      messageBubble.style.display = \"flex\";\n      messageBubble.style.flexDirection = \"column\";\n      const messageWrapper = document.createElement(\"div\");\n      messageWrapper.className = \"flex flex-col h-auto\";\n      const receiverText = document.createElement(\"p\");\n      receiverText.className = \"text-[1.1vw] font-semibold mb-1 text-gray-700 break-words\";\n      receiverText.innerText = `From: ${messageReceiver}`;\n      const messageText = document.createElement(\"p\");\n      messageText.className = \"text-[1.3vw] mb-1 break-words\";\n      messageText.innerText = chat;\n      const messageDateTime = document.createElement(\"span\");\n      messageDateTime.className = \"text-[1vw] text-white self-end break-words\";\n      messageDateTime.innerHTML = `${currentDate}<br>${currentTime}`;\n      messageWrapper.appendChild(receiverText);\n      messageWrapper.appendChild(messageText);\n      messageWrapper.appendChild(messageDateTime);\n      messageBubble.appendChild(messageWrapper);\n      messageDisplayContainer.appendChild(messageBubble);\n    });\n    messageDisplayContainer.scrollTop = messageDisplayContainer.scrollHeight;\n  };\n  const loadindimess = async (receiver, sender) => {\n    const response = await fetch('http://localhost:5100/tofetchindichat', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"receiver\": receiver,\n        \"sender\": sender\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    let messageDisplayContainer = document.getElementById(\"messageDisplay\");\n    if (messageDisplayContainer != null) messageDisplayContainer.innerHTML = \"\";\n    const result = await response.json();\n    if (result.length == 0) {\n      messageDisplayContainer.innerHTML = \"\";\n      return;\n    }\n    result.sort((a, b) => {\n      const [dayA, monthA, yearA] = a.currentDate.split('/').map(Number);\n      const [dayB, monthB, yearB] = b.currentDate.split('/').map(Number);\n      if (yearA !== yearB) return yearA - yearB;\n      if (monthA !== monthB) return monthA - monthB;\n      if (dayA !== dayB) return dayA - dayB;\n      const timeA = a.currentTime.split(':').map(Number);\n      const timeB = b.currentTime.split(':').map(Number);\n      if (timeA[0] !== timeB[0]) return timeA[0] - timeB[0];\n      if (timeA[1] !== timeB[1]) return timeA[1] - timeB[1];\n      return timeA[2] - timeB[2];\n    });\n    let lastDate = \"10/12/2024\";\n    result.forEach(currentEle => {\n      const {\n        chat,\n        currentDate,\n        currentTime,\n        receiver,\n        sender,\n        whichuser\n      } = currentEle;\n      if (currentDate !== lastDate) {\n        lastDate = currentDate;\n        const dateHeader = document.createElement(\"h1\");\n        dateHeader.className = \"flex justify-center items-center h-12\";\n        const dateContainer = document.createElement(\"span\");\n        dateContainer.className = \"bg-white border-3  border-yellow-700  text-[1.3vw] text-black h-[6vh] w-[6.5vw] py-[1vh] text-center rounded-md\";\n        dateContainer.innerText = currentDate;\n        dateHeader.append(dateContainer);\n        messageDisplayContainer.appendChild(dateHeader);\n      }\n      const messageBubble = document.createElement(\"div\");\n      messageBubble.className = `p-3 rounded-lg m-2 max-w-xs w-[20vw] ${whichuser === receiver ? \"bg-blue-500 text-white self-end ml-auto\" : \"bg-gray-200 text-black self-start mr-auto\"}`;\n      messageBubble.style.marginBottom = \"1rem\";\n      messageBubble.style.minHeight = \"10vh\";\n      messageBubble.style.height = \"auto\";\n      messageBubble.style.display = \"flex\";\n      messageBubble.style.flexDirection = \"column\";\n      const messageWrapper = document.createElement(\"div\");\n      messageWrapper.className = \"flex flex-col\";\n      const messageText = document.createElement(\"p\");\n      messageText.className = \"text-[1.3vw] mb-1 break-words\";\n      messageText.innerText = chat;\n      const messageTime = document.createElement(\"span\");\n      messageTime.className = `text-[1vw] ${sender === receiver || whichuser == receiver ? \"text-white\" : \"text-black\"} self-end`;\n      messageTime.innerText = currentTime;\n      messageWrapper.appendChild(messageText);\n      messageWrapper.appendChild(messageTime);\n      messageBubble.appendChild(messageWrapper);\n      messageDisplayContainer.appendChild(messageBubble);\n    });\n    messageDisplayContainer.scrollTop = messageDisplayContainer.scrollHeight;\n  };\n  const messageBox = async (e, flag = \"true\") => {\n    e.stopPropagation();\n    if (flag == \"true\") {\n      if (messagetext == \"Type message here\") {\n        const d = e.target.value;\n        const i = d.indexOf('Type message here');\n        const m1 = d.substring(i + 'Type message here'.length);\n        setmessagetext(m1);\n      } else if (e.target.value && e.target.value.length > 0) {\n        setmessagetext(e.target.value);\n      } else {\n        setmessagetext(\"Type message here\");\n      }\n    } else {\n      if (messagetext == \"Type message here\") {\n        e.target.value = \"\";\n        setmessagetext(e.target.value);\n      }\n    }\n  };\n  const sendGroupmessage = async e => {\n    const chat = messagetext;\n    const groupname = senderGroupName.current;\n    const receiver = username;\n    const now = new Date();\n    const day = now.getDate();\n    const month = now.getMonth() + 1;\n    const year = now.getFullYear();\n    const hours = now.getHours();\n    const minutes = now.getMinutes();\n    const seconds = now.getSeconds();\n    const currentDate = `${day}/${month}/${year}`;\n    const currentTime = `${hours}:${minutes}:${seconds}`;\n    setmessagetext(\"Type message here\");\n    const response = await fetch('http://localhost:5200/savegroupmessage', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"receiver\": receiver,\n        \"groupname\": groupname,\n        \"chat\": chat,\n        \"currentDate\": currentDate,\n        \"currentTime\": currentTime\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    socket.emit('send_message_group', {\n      receiver,\n      groupname,\n      chat,\n      currentDate,\n      currentTime\n    });\n    setSearchbool(false);\n    fetchintialusergroup();\n    loadgroupmess(receiver, senderGroupName.current);\n  };\n  const sendMessage = async e => {\n    const textToSend = messagetext;\n    const receiver = username;\n    const sender = senderGroupName.current;\n    if (textToSend.length == 0) {\n      setmessagetext(\"Type message here\");\n      return;\n    }\n    if (isgroupchat == false) {\n      const identifier = receiver + ' (Self)';\n      if (senderGroupName.current == identifier) {\n        const now = new Date();\n        const day = now.getDate();\n        const month = now.getMonth() + 1;\n        const year = now.getFullYear();\n        const hours = now.getHours();\n        const minutes = now.getMinutes();\n        const seconds = now.getSeconds();\n        const currentDate = `${day}/${month}/${year}`;\n        const currentTime = `${hours}:${minutes}:${seconds}`;\n        setmessagetext(\"Type message here\");\n        const response = await fetch('http://localhost:5100/saveindichat', {\n          method: 'POST',\n          body: JSON.stringify({\n            \"receiver\": receiver,\n            \"sender\": receiver,\n            \"whichuser\": receiver,\n            \"textToSend\": textToSend,\n            \"currentDate\": currentDate,\n            \"currentTime\": currentTime\n          }),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        setSearchbool(false);\n        fetchintialusergroup();\n        loadindimess(receiver, receiver);\n      } else {\n        const identifier1 = receiver + '#' + sender;\n        const identifier2 = sender + '#' + receiver;\n        const now = new Date();\n        const day = now.getDate();\n        const month = now.getMonth() + 1;\n        const year = now.getFullYear();\n        const hours = now.getHours();\n        const minutes = now.getMinutes();\n        const seconds = now.getSeconds();\n        const currentDate = `${day}/${month}/${year}`;\n        const currentTime = `${hours}:${minutes}:${seconds}`;\n        setmessagetext(\"Type message here\");\n        const response = await fetch('http://localhost:5100/saveindichat', {\n          method: 'POST',\n          body: JSON.stringify({\n            \"receiver\": receiver,\n            \"sender\": sender,\n            \"whichuser\": receiver,\n            \"textToSend\": textToSend,\n            \"currentDate\": currentDate,\n            \"currentTime\": currentTime\n          }),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const result = await response.json();\n        const response2 = await fetch('http://localhost:5100/saveindichat', {\n          method: 'POST',\n          body: JSON.stringify({\n            \"receiver\": sender,\n            \"sender\": receiver,\n            \"whichuser\": receiver,\n            \"textToSend\": textToSend,\n            \"currentDate\": currentDate,\n            \"currentTime\": currentTime\n          }),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const result2 = await response2.json();\n        socket.emit('send_message', {\n          identifier1,\n          identifier2,\n          receiver,\n          sender,\n          textToSend,\n          currentDate,\n          currentTime\n        });\n        setSearchbool(false);\n        fetchintialusergroup();\n        loadindimess(receiver, senderGroupName.current);\n      }\n    }\n  };\n  const submitNewGroup = async () => {\n    let group_name = document.getElementById(\"group_name\");\n    const val = group_name.value;\n    if (val.length == 0) {\n      let display_res = document.getElementById(\"display_res\");\n      display_res.textContent = \"Enter Group Name.\";\n      return;\n    } else {\n      let display_res = document.getElementById(\"display_res\");\n      display_res.textContent = \"\";\n    }\n    if (usersingroups.length <= 1) {\n      let display_res = document.getElementById(\"display_res\");\n      display_res.textContent = \"Atleast 2 users are required.\";\n      return;\n    } else {\n      let display_res = document.getElementById(\"display_res\");\n      display_res.textContent = \"\";\n    }\n    const response = await fetch('http://localhost:4000/signup', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"username\": val\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await response.json();\n    const length = data.length;\n    if (length == 1) {\n      let display_res = document.getElementById(\"display_res\");\n      display_res.textContent = \"Group name matches with username.\";\n      return;\n    }\n    if (val.length > 24) {\n      let display_res = document.getElementById(\"display_res\");\n      display_res.textContent = \"Groupname must be 24 characters or less.\";\n      return;\n    }\n    const res = await fetch(\"http://localhost:5200/checkgroupexist\", {\n      method: 'POST',\n      body: JSON.stringify({\n        \"groupname\": val\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const res2 = await res.json();\n    if (res2.flag == \"true\") {\n      let display_res = document.getElementById(\"display_res\");\n      display_res.textContent = \"Group name already exists. Please choose a different one.\";\n      return;\n    } else {\n      let display_res = document.getElementById(\"display_res\");\n      display_res.textContent = \"\";\n    }\n    let groupmember = [];\n    groupmember = usersingroups.map(user => user.username);\n    groupmember.push(username);\n    const now = new Date();\n    const day = now.getDate();\n    const month = now.getMonth() + 1;\n    const year = now.getFullYear();\n    const hours = now.getHours();\n    const minutes = now.getMinutes();\n    const seconds = now.getSeconds();\n    const currentDate = `${day}/${month}/${year}`;\n    const currentTime = `${hours}:${minutes}:${seconds}`;\n    const response2 = await fetch('http://localhost:5200/savegroupinfo', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"receiver\": username,\n        \"groupname\": val,\n        \"groupmember\": groupmember,\n        \"currentDate\": currentDate,\n        \"currentTime\": currentTime\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    let display_res = document.getElementById(\"display_res\");\n    display_res.textContent = \"Group created successfully.\";\n    setTimeout(() => {\n      switchModal();\n      setSearchUsersgroup([]);\n      setUsersingroups([]);\n      fetchintialusergroup();\n    }, 2000);\n  };\n  const searchusersforgroup = async e => {\n    const sender = e.target.value;\n    if (sender.length > 0) {\n      const response = await fetch('http://localhost:5010/tofetch', {\n        method: 'POST',\n        body: JSON.stringify({\n          \"username\": sender\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      const data_users = data.users;\n      const data_group = data.groupMessages;\n      setSearchUsersgroup(data_users || []);\n    } else {\n      setSearchUsersgroup([]);\n    }\n  };\n  const addingroup = (e, user) => {\n    e.preventDefault();\n    const alreadyAdded = usersingroups.some(element => element._id === user._id);\n    if (alreadyAdded) return;\n    setUsersingroups(prev => [...prev, user]);\n  };\n  const removeingroup = (e, user) => {\n    e.preventDefault();\n    setUsersingroups(prev => prev.filter(element => element._id !== user._id));\n  };\n  const fetchintialusergroup = async () => {\n    const res1 = await fetch('http://localhost:5100/intialindires', {\n      method: 'POST',\n      body: JSON.stringify({\n        receiver: username\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data1 = await res1.json();\n    data1.forEach(element => {\n      const identifier1 = username + '#' + element.sender;\n      const identifier2 = element.sender + '#' + username;\n      socket.emit(\"join_room\", identifier1);\n      socket.emit(\"join_room\", identifier2);\n    });\n    const res2 = await fetch('http://localhost:5200/intialresultgroup', {\n      method: 'POST',\n      body: JSON.stringify({\n        receiver: username\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data2 = await res2.json();\n    data2.forEach(element => {\n      socket.emit(\"join_room_group\", element.groupname);\n    });\n    const processedData2 = await Promise.all(data2.map(async group => {\n      var _data3$, _data3$2, _data3$3;\n      const {\n        groupname,\n        currentDate,\n        currentTime,\n        groupmember\n      } = group;\n      const res3 = await fetch('http://localhost:5200/intialgroupres', {\n        method: 'POST',\n        body: JSON.stringify({\n          groupname\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data3 = await res3.json();\n      const latestMessage = ((_data3$ = data3[0]) === null || _data3$ === void 0 ? void 0 : _data3$.latestMessage) || \"Start your messaging\";\n      const n1currentDate = ((_data3$2 = data3[0]) === null || _data3$2 === void 0 ? void 0 : _data3$2.currentDate) || currentDate;\n      const n1currentTime = ((_data3$3 = data3[0]) === null || _data3$3 === void 0 ? void 0 : _data3$3.currentTime) || currentTime;\n      return {\n        groupname,\n        groupmember,\n        \"currentDate\": n1currentDate,\n        \"currentTime\": n1currentTime,\n        chat: latestMessage\n      };\n    }));\n    let tresult = [...data1, ...processedData2];\n    let temp = tresult.sort((b, a) => {\n      const [dayA, monthA, yearA] = a.currentDate.split('/').map(Number);\n      const [dayB, monthB, yearB] = b.currentDate.split('/').map(Number);\n      if (yearA !== yearB) return yearA - yearB;\n      if (monthA !== monthB) return monthA - monthB;\n      if (dayA !== dayB) return dayA - dayB;\n      const timeA = a.currentTime.split(':').map(Number);\n      const timeB = b.currentTime.split(':').map(Number);\n      if (timeA[0] !== timeB[0]) return timeA[0] - timeB[0];\n      if (timeA[1] !== timeB[1]) return timeA[1] - timeB[1];\n      return timeA[2] - timeB[2];\n    });\n    setIntial_user_group([...temp]);\n  };\n  useEffect(() => {\n    fetchintialusergroup();\n    const interval = setInterval(() => {\n      fetchintialusergroup();\n    }, 3000);\n    socket.on(\"receive_message\", data => {\n      const {\n        sender,\n        textToSend,\n        currentDate,\n        currentTime\n      } = data;\n      setIntial_user_group(prevGroups => {\n        const updatedGroups = [...prevGroups];\n        const groupIndex = updatedGroups.findIndex(group => group.sender === sender);\n        if (groupIndex > -1) {\n          updatedGroups[groupIndex] = {\n            ...updatedGroups[groupIndex],\n            latestMessage: textToSend,\n            currentDate,\n            currentTime\n          };\n        } else {\n          updatedGroups.unshift({\n            sender,\n            latestMessage: textToSend,\n            currentDate,\n            currentTime\n          });\n        }\n        return updatedGroups;\n      });\n    });\n    return () => {\n      clearInterval(interval);\n      socket.off(\"receive_message\");\n    };\n  }, []);\n  const [deleleCHAT, setDeleteChat] = useState(false);\n  const toggleExit = () => {\n    setDeleteChat(!deleleCHAT);\n  };\n  const deletechat = async () => {\n    const receiver = username;\n    const sender = senderGroupName.current;\n    let delele_result = document.getElementById(\"delete_result\");\n    if (isgroupchat == true) {\n      delele_result.innerHTML = \"Group Chat is deleted.\";\n      const response = await fetch('http://localhost:5200/getgroupmember', {\n        method: 'POST',\n        body: JSON.stringify({\n          \"groupname\": senderGroupName.current\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const res = await response.json();\n      let groupmember = res[0].groupmember;\n      let newgroupmember = [];\n      groupmember.forEach(user => {\n        if (user != username) {\n          newgroupmember.push(user);\n        }\n      });\n      const response2 = await fetch('http://localhost:5200/updategroupmember', {\n        method: 'POST',\n        body: JSON.stringify({\n          \"groupname\": senderGroupName.current,\n          \"groupmember\": newgroupmember\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n    } else {\n      delele_result.innerHTML = \"Individual Chat is deleted.\";\n      const response = await fetch('http://localhost:5100/deleteindichat', {\n        method: 'DELETE',\n        body: JSON.stringify({\n          \"receiver\": receiver,\n          \"sender\": sender\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n    }\n    setTimeout(() => {\n      delele_result.innerHTML = \"\";\n      setDeleteChat(false);\n      setMscreen(true);\n      senderGroupName.current = \"\";\n      setusersgroupname(\"\");\n      fetchintialusergroup();\n    }, 1000);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"class=\\\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]\",\n      children: [addgroupModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-background fixed top-0 left-0 w-full h-full   z-10 bg-black bg-opacity-50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 975,\n        columnNumber: 11\n      }, this), addgroupModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed top-10 left-[25vw] h-[80vh] w-[50vw] z-20 rounded-2xl\",\n        style: {\n          backgroundColor: \"#8EC5FC\",\n          backgroundImage: \"linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: switchModal,\n          className: \"bg-red-500  hover:bg-red-600 border-4 hover:scale-105 rounded-md border-red-500 hover:border-red-600 mt-[1vh] mr-[0.5vw] float-right text-[1.5vw] h-[8vh] w-[5vw]\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 984,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"group_name\",\n          name: \"\",\n          placeholder: \"Enter Group Name: \",\n          className: \"relative top-[3vh] left-[1.1vw] w-[30vw] h-[6vh] pl-[0.5vw] border-black border-2 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 985,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"search_user\",\n          onChange: e => searchusersforgroup(e),\n          name: \"\",\n          placeholder: \"Search User: \",\n          className: \"relative top-[5vh] left-[1.1vw] w-[30vw] h-[6vh] pl-[0.5vw] border-black border-2 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 986,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white h-[45vh] mt-[7vh] w-[23vw] ml-[1vw] border-4 border-blue-300 float-left overflow-y-auto class=\\\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]\",\n          children: searchusersgroup.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-[2vw] mt-[2vh]  searchnot\",\n            children: searchusersgroup.map(user => user.username != username && /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"border-4 rounded-xl  hover:scale-105 border-gray-700 cursor-pointer mt-[2vh]   ml-[0.5vw]   h-[10vh]  w-[21vw]  searchnot text-[2vw]\",\n              children: [user.username, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: e => addingroup(e, user),\n                className: \"bg-green-400 rounded-md hover:bg-green-600 border-green-400 hover:border-green-600 h-[6vh] border-4   float-right mt-[1.3vh] mr-[1vw]  w-[6vw]\",\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 991,\n                columnNumber: 201\n              }, this), \" \"]\n            }, user._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 989,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-[1.8vw] mt-2 ml-7 searchnot\",\n            children: \" No Users found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 994,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 987,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white h-[45vh] border-4 border-blue-500 mt-[7vh] w-[23vw] mr-[1vw] float-right class=\\\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]\",\n          children: usersingroups.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-[2vw] mt-[2vh]\",\n            children: usersingroups.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                width: '90%',\n                marginLeft: '5%'\n              },\n              className: \"border-4 rounded-xl  hover:scale-105 cursor-pointer  border-black pl-2  h-[10vh]  w-88   text-[2vw]\",\n              children: [user.username, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: e => removeingroup(e, user),\n                className: \"bg-red-500 hover:bg-red-600 border-red-500 hover:border-red-600 rounded-md hover:scale-105 border-4 float-right mt-[0.2vh] mr-1 h-[6vh]  w-[8vw]\",\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1000,\n                columnNumber: 211\n              }, this), \" \"]\n            }, user._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 998,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-[1.8vw] mt-2 ml-7 searchnot\",\n            children: \" No Users is added\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 996,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"display_res\",\n          className: \"text-black font-semibold h-[6vh] mt-[53vh] bg-red-400 text-[1.5vw] h-[2.5vw] mx-auto w-[30vw] text-center\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1005,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-yellow-400 h-[6vh]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-green-500  hover:bg-green-600  hover:scale-105  h-[6vh]  hover:border-green-600 border-green-500 rounded-md ml-[20vw] border-4  text-[1.5vw] w-[8vw]\",\n          onClick: e => submitNewGroup(e),\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 978,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-row h-screen\",\n        onClick: handleContainerClick,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-400 flex items-center justify-center\",\n          style: {\n            width: '5vw',\n            height: '100vh'\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            className: \"inline mt-[85vh]\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-white rounded-xl h-[9vh] w-[4.8vw] border-4 text-[1.1vw] border-black hover:bg-gray-500 hover:scale-105\",\n              children: \"Log Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 55\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1013,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '40vw'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-fixed \",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-[2vw] font-bold relative top-[2vh] pl-[2vw]\",\n              children: \"Chats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1018,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              id: \"to_add_group\",\n              className: \"relative left-[14.5vw] text-[2vw] top-3 font-bold border-black rounded-lg border-4 border-solid visible hover:scale-105\",\n              onClick: switchModal,\n              children: \"New Group Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1022,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-[5vh] flex justify-center  ml-[2vw]\",\n              id: \"search_container\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rounded-l-md bg-gray-200 inline-block h-[10vh] pl-[1vw] ml-[0.2vw] hover:cursor-pointer \",\n                onClick: e => clickOnImage(e),\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"/searchIcon.png\",\n                  alt: \"\",\n                  id: \"search_image\",\n                  className: \"inline-block h-[4vh] mt-[3vh] m\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1025,\n                  columnNumber: 157\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1025,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                ref: inputRef,\n                placeholder: \"Search\",\n                id: \"search_user\",\n                className: \" h-[10vh] rounded-r-md inline bg-gray-200\",\n                onChange: e => oninput(e),\n                style: {\n                  outline: 'None',\n                  width: '90%',\n                  paddingLeft: '5%',\n                  marginRight: '6%'\n                },\n                onClick: e => clickOnImage(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1026,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 13\n          }, this), searchbool ? /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"search_panel\",\n            className: \"class=\\\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]  searchnot \",\n            style: {\n              maxHeight: '480px',\n              overflowY: 'scroll'\n            },\n            children: searchusers.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-2xl mt-[2vh]  searchnot\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-[2.2vw] text-[2vw] searchnot\",\n                children: \"Search User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 21\n              }, this), searchusers.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: e => startindivimessage(e, user.username, \"true\"),\n                className: \"hover:scale-105 rounded-xl border-4 cursor-pointer mt-[2vh] ml-[2vw] border-gray-700 pl-[1vw] pt-[1vh]  h-[10vh]  w-[36vw]  searchnot text-[2vw]\",\n                children: user.username\n              }, user._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1034,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-[2.2vw] mt-[0.5vh] text-[2vw] searchnot\",\n              children: \"Search User not Found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1040,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \" overflow-auto h-[77vh]  class=\\\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]\",\n            children: intial_user_group.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: intial_user_group.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"border-4 rounded-xl cursor-pointer mt-[2vh] ml-[2vw] border-gray-700 pl-[1vw] pt-[1vh]  hover:scale-105  w-[36vw]  searchnot text-[2vw]\",\n                  children: item.groupname ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-[15vh] relative\",\n                    onClick: e => startgroupmessage(e, item.groupname),\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[3vh] font-bold text-blue-800\",\n                      children: item.groupname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1051,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[2vh] text-gray-600 overflow-hidden text-ellipsis whitespace-nowrap\",\n                      children: [\"Message: \", item.chat]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1052,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[2vh] text-gray-600 float-right mr-2\",\n                      children: [\"Date: \", item.currentDate]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1053,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[2vh] text-gray-600 float-right absolute bottom-0 right-2\",\n                      children: [\"Time: \", item.currentTime]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1054,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1050,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    onClick: e => startindivimessage(e, item.sender),\n                    className: \"h-[15vh] relative\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[3vh] font-bold text-green-800\",\n                      children: [\"From: \", item.sender]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1059,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[2vh] text-gray-600 overflow-hidden text-ellipsis whitespace-nowrap\",\n                      children: [\"Message: \", item.latestMessage]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1060,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[2vh] text-gray-600 float-right mr-2\",\n                      children: [\"Date: \", item.currentDate]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1061,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-[2vh] text-gray-600 float-right absolute bottom-0  right-2\",\n                      children: [\"Time: \", item.currentTime]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1062,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1058,\n                    columnNumber: 29\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1047,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1045,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1044,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1042,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 11\n        }, this), mscreen ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-[2vw] flex justify-center items-center  class=\\\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]\",\n          style: {\n            width: '55vw',\n            backgroundColor: \"#FFDEE9\",\n            backgroundImage: \"linear-gradient(0deg, #FFDEE9 0%, #B5FFFC 100%)\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Start Messaging\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1078,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1074,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '55vw',\n            height: '99.5vh'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-300 pl-10 text-[6vh] h-10vh\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-[3vw]\",\n                children: usersgroupname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1085,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-block mr-2 mb-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: toggleExit,\n                  className: \"bg-red-500 h-[8vh] w-[10vw] text-[2vw]   rounded-md hover:bg-red-600 border-4 border-red-500 hover:border-red-600 hover:scale-105\",\n                  children: [\"Exit \", isgroupchat === true ? \"Group\" : \"Chat\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1087,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1086,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1084,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1083,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto class=\\\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]\",\n            id: \"messageDisplay\",\n            style: {\n              height: '80%',\n              backgroundImage: \"linear-gradient( 109.6deg,  rgba(112,246,255,0.33) 11.2%, rgba(221,108,241,0.26) 42%, rgba(229,106,253,0.71) 71.5%, rgba(123,183,253,1) 100.2% )\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-500\",\n            style: {\n              height: '10%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: messagetext,\n              onChange: e => messageBox(e),\n              onClick: e => messageBox(e, false),\n              name: \"\",\n              id: \"\",\n              className: \"inline-block \",\n              style: {\n                width: '75%',\n                paddingLeft: '1%',\n                marginLeft: '10%',\n                height: '70%',\n                marginTop: '1%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 70\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                width: '10%',\n                height: '50%'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/rightarrow.png\",\n                onClick: isgroupchat == false ? e => sendMessage(e) : e => sendGroupmessage(e),\n                style: {\n                  width: \"50%\",\n                  height: '150%',\n                  paddingTop: '5%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1097,\n                columnNumber: 361\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 313\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1082,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1009,\n        columnNumber: 9\n      }, this), deleleCHAT && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-background fixed top-0 left-0 w-full h-full z-10 bg-black bg-opacity-50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1101,\n        columnNumber: 11\n      }, this), deleleCHAT && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white fixed top-[30vh] left-[25vw] h-[30vh] w-[50vw] z-20 rounded-2xl \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-black h-[5vh] text-[1.4vw] mx-auto w-[30vw] mt-[2vh] text-center font-semibold\",\n          children: \"Are you sure you want to delete this chat?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-black h-[5vh] text-[1.4vw] w-[50vw] text-center font-semibold\",\n          children: isgroupchat == true ? \"Deleting it will also remove you from the group.\" : \"Deleting the message will also remove the user from your home list.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"delete_result\",\n          className: \"h-[5vh] text-green-500 mt-[1vh] text-[1.5vw] text-center\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1107,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-[0.5vh]\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-green-500 hover:bg-green-600 h-[9vh] hover:scale-105 rounded-xl border-4 border-green-500 hover:border-green-600 w-[15vw] ml-[3vw]\",\n            onClick: deletechat,\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1108,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleExit,\n            className: \"bg-red-500 hover:bg-red-700 border-red-500  hover:border-red-700  hover:scale-105  border-4 h-[9vh] w-[15vw] rounded-xl float-right mr-[3vw]\",\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1108,\n            columnNumber: 228\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1108,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 973,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Homescreen, \"s7YN7zR4cjvA49Alvn/ld6XX0vo=\", false, function () {\n  return [useLocation];\n});\n_c = Homescreen;\nvar _c;\n$RefreshReg$(_c, \"Homescreen\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Link","useLocation","jsxDEV","_jsxDEV","Fragment","_Fragment","io","require","socket","connect","Homescreen","receiver","_s","_location$state","location","inputRef","isgroupchat","setIsgroupchat","username","state","searchusersgroup","setSearchUsersgroup","searchusers","setSearchsUsers","usersgroupname","setusersgroupname","searchgroupMessages","setsearchGroupMessages","searchbool","setSearchbool","mscreen","setMscreen","senderGroupName","currsendmessage","setCurrsendmessage","groupmessage","setGroupmessage","addgroupModal","setAddgroupModal","messagetext","setmessagetext","intial_user_group","setIntial_user_group","usersingroups","setUsersingroups","switchModal","to_add_group","document","getElementById","classList","remove","add","clickOnImage","event","searchimage","a","attributes","current","nodeValue","fetchintialusergroup","focus","stopPropagation","handleContainerClick","target","flag","contains","oninput","e","value","length","response","fetch","method","body","JSON","stringify","headers","data","json","data_users","users","data_group","groupMessages","handleReceiveMessage","currentDate","currentTime","sender","textToSend","console","log","loadindimess","handleGroupReceiveMessage","groupname","chat","Object","keys","loadgroupmess","on","off","startindivimessage","u2","t1","identifier1","identifier2","emit","startgroupmessage","result","messageDisplayContainer","innerHTML","lastDate","forEach","currentEle","messageReceiver","dateHeader","createElement","className","dateContainer","innerText","append","appendChild","messageBubble","style","marginBottom","minHeight","height","display","flexDirection","messageWrapper","receiverText","messageText","messageDateTime","scrollTop","scrollHeight","sort","b","dayA","monthA","yearA","split","map","Number","dayB","monthB","yearB","timeA","timeB","whichuser","messageTime","messageBox","d","i","indexOf","m1","substring","sendGroupmessage","now","Date","day","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","sendMessage","identifier","response2","result2","submitNewGroup","group_name","val","display_res","textContent","res","res2","groupmember","user","push","setTimeout","searchusersforgroup","addingroup","preventDefault","alreadyAdded","some","element","_id","prev","removeingroup","filter","res1","data1","data2","processedData2","Promise","all","group","_data3$","_data3$2","_data3$3","res3","data3","latestMessage","n1currentDate","n1currentTime","tresult","temp","interval","setInterval","prevGroups","updatedGroups","groupIndex","findIndex","unshift","clearInterval","deleleCHAT","setDeleteChat","toggleExit","deletechat","delele_result","newgroupmember","children","fileName","_jsxFileName","lineNumber","columnNumber","backgroundColor","backgroundImage","onClick","type","id","name","placeholder","onChange","width","marginLeft","to","src","alt","ref","outline","paddingLeft","marginRight","maxHeight","overflowY","item","index","marginTop","paddingTop","_c","$RefreshReg$"],"sources":["C:/Users/Siddhant/OneDrive/Something/chat_app/src/Homescreen.js"],"sourcesContent":["import { React, useState, useRef, useEffect } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nconst { io } = require(\"socket.io-client\");\r\n\r\n\r\nconst socket = io.connect(\"http://localhost:5100\")\r\n\r\nexport default function Homescreen(receiver) {\r\n  const location = useLocation();\r\n\r\n  const inputRef = useRef(null);\r\n\r\n  const [isgroupchat, setIsgroupchat] = useState(false);\r\n\r\n  const username = location.state?.username || \"Guest\";\r\n\r\n  const [searchusersgroup, setSearchUsersgroup] = useState([]);\r\n\r\n  const [searchusers, setSearchsUsers] = useState([]);\r\n\r\n  const [usersgroupname, setusersgroupname] = useState(\"\");\r\n  const [searchgroupMessages, setsearchGroupMessages] = useState([]);\r\n\r\n  const [searchbool, setSearchbool] = useState(false);\r\n\r\n  const [mscreen, setMscreen] = useState(true);\r\n\r\n\r\n  const senderGroupName = useRef(\"\");\r\n\r\n\r\n  const [currsendmessage, setCurrsendmessage] = useState({});\r\n\r\n\r\n  const [groupmessage, setGroupmessage] = useState(\"\");\r\n\r\n  const [addgroupModal, setAddgroupModal] = useState(false);\r\n\r\n\r\n  const [messagetext, setmessagetext] = useState(\"Type message here\");\r\n\r\n  const [intial_user_group, setIntial_user_group] = useState([]);\r\n\r\n  const [usersingroups, setUsersingroups] = useState([])\r\n\r\n\r\n\r\n  const switchModal = () => {\r\n    setAddgroupModal(!addgroupModal);\r\n    let to_add_group = document.getElementById(\"to_add_group\");\r\n    if (addgroupModal) {\r\n\r\n      to_add_group.classList.remove(\"invisible\");\r\n      to_add_group.classList.add(\"visible\");\r\n    } else {\r\n\r\n      to_add_group.classList.remove(\"visible\");\r\n      to_add_group.classList.add(\"invisible\");\r\n      setSearchUsersgroup([]);\r\n      setUsersingroups([]);\r\n\r\n    }\r\n  }\r\n\r\n\r\n  const clickOnImage = (event) => {\r\n    const searchimage = document.getElementById('search_image');\r\n    let a = searchimage.attributes['src']\r\n    senderGroupName.current = \"\";\r\n    setusersgroupname(\"\");\r\n    if (a.nodeValue == '/leftArrow.png') {\r\n      fetchintialusergroup();\r\n      a.nodeValue = '/searchIcon.png';\r\n      setSearchbool(false);\r\n      setMscreen(true);\r\n      setmessagetext(\"Type message here\");\r\n    }\r\n    else {\r\n      a.nodeValue = '/leftArrow.png';\r\n      setSearchbool(true);\r\n\r\n      if (inputRef.current) {\r\n        inputRef.current.focus();\r\n      }\r\n\r\n    }\r\n    event.stopPropagation();\r\n\r\n  }\r\n\r\n  const handleContainerClick = (event) => {\r\n    const target = event.target;\r\n    const searchimage = document.getElementById('search_image');\r\n    let a = searchimage.attributes['src']\r\n    const flag = target.classList.contains('searchnot');\r\n  }\r\n\r\n  const oninput = async (e) => {\r\n    const value = e.target.value;\r\n    setSearchbool(true);\r\n    senderGroupName.current = \"\";\r\n    setusersgroupname(\"\");\r\n    if (value.length > 0) {\r\n      const response = await fetch('http://localhost:5010/tofetch', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ \"username\": value }),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      const data = await response.json();\r\n      const data_users = data.users\r\n      const data_group = data.groupMessages;\r\n\r\n      setSearchsUsers(data_users || []);\r\n      setsearchGroupMessages(data_group || []);\r\n    }\r\n    else {\r\n      setSearchsUsers([]);\r\n      setsearchGroupMessages([]);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handleReceiveMessage = (data) => {\r\n\r\n      const currentDate = data.currentDate;\r\n      const currentTime = data.currentTime;\r\n      const sender = data.sender;\r\n      const receiver = data.receiver;\r\n      const textToSend = data.textToSend;\r\n\r\n      console.log(\"Now this is working\");\r\n      fetchintialusergroup();\r\n\r\n      if (currsendmessage == \"\") {\r\n        setCurrsendmessage({\r\n          \"currentDate\": currentDate,\r\n          \"currentTime\": currentTime,\r\n          \"sender\": sender,\r\n          \"receiver\": receiver,\r\n          \"textToSend\": textToSend\r\n        });\r\n\r\n\r\n        if (senderGroupName.current == \"\") return;\r\n\r\n        if (isgroupchat == false) {\r\n          if (senderGroupName.current === receiver)\r\n            loadindimess(receiver, senderGroupName.current);\r\n        }\r\n      }\r\n      else if (currsendmessage[\"currentTime\"] != currentTime) {\r\n    \r\n        setCurrsendmessage({\r\n          \"currentDate\": currentDate,\r\n          \"currentTime\": currentTime,\r\n          \"sender\": sender,\r\n          \"receiver\": receiver,\r\n          \"textToSend\": textToSend\r\n        });\r\n\r\n\r\n        if (senderGroupName.current == \"\") return;\r\n\r\n        if (isgroupchat == false) {\r\n          if (senderGroupName.current === receiver)\r\n            loadindimess(username, receiver);\r\n        }\r\n      }\r\n\r\n\r\n\r\n    };\r\n    const handleGroupReceiveMessage = (data) => {\r\n      const currentDate = data.currentDate;\r\n      const currentTime = data.currentTime;\r\n      const groupname = data.groupname;\r\n      const sender = data.receiver;\r\n      const chat = data.textToSend;\r\n\r\n\r\n      fetchintialusergroup();\r\n  \r\n      if (Object.keys(groupmessage).length === 0) {\r\n\r\n        setGroupmessage({\r\n          currentDate,\r\n          currentTime,\r\n          groupname,\r\n          sender,\r\n          chat,\r\n        });\r\n\r\n\r\n        if (senderGroupName.current == \"\") return;\r\n\r\n        if (isgroupchat == true) {\r\n          if (senderGroupName.current == groupname) {\r\n            loadgroupmess(receiver, senderGroupName.current);\r\n          }\r\n        }\r\n      } else if (groupmessage.currentTime !== currentTime) {\r\n        setGroupmessage({\r\n          currentDate,\r\n          currentTime,\r\n          groupname,\r\n          receiver,\r\n          chat,\r\n        });\r\n\r\n\r\n\r\n\r\n        if (senderGroupName.current == \"\") return;\r\n\r\n        if (isgroupchat == true) {\r\n          if (senderGroupName.current == groupname) {\r\n\r\n            loadgroupmess(receiver, senderGroupName.current);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    socket.on(\"receive_message\", handleReceiveMessage);\r\n\r\n    socket.on(\"receive_group_message\", handleGroupReceiveMessage);\r\n\r\n    return () => {\r\n      socket.off(\"receive_message\", handleReceiveMessage);\r\n    };\r\n\r\n\r\n  });\r\n\r\n\r\n\r\n\r\n\r\n  const startindivimessage = async (e, u2, flag = \"false\") => {\r\n    setMscreen(false);\r\n    const receiver = username;\r\n    const sender = u2;\r\n    setIsgroupchat(false);\r\n    if (sender == receiver) {\r\n      const t1 = receiver + ' (Self)';\r\n\r\n      setusersgroupname(t1);\r\n      senderGroupName.current = t1;\r\n  \r\n    }\r\n    else {\r\n      setusersgroupname(sender);\r\n      senderGroupName.current = sender;\r\n      if (flag == \"true\") {\r\n        const identifier1 = receiver + '#' + sender;\r\n        const identifier2 = sender + '#' + receiver;\r\n        socket.emit(\"join_room\", identifier1);\r\n        socket.emit(\"join_room\", identifier2);\r\n      }\r\n    }\r\n    setmessagetext(\"Type message here\");\r\n    loadindimess(receiver, sender);\r\n  }\r\n\r\n  const startgroupmessage = async (e, groupname) => {\r\n    setMscreen(false);\r\n    setIsgroupchat(true);\r\n    setmessagetext(\"Type message here\");\r\n    const receiver = username;\r\n\r\n\r\n    setusersgroupname(groupname);\r\n    senderGroupName.current = groupname;\r\n    loadgroupmess(receiver, groupname);\r\n\r\n  }\r\n  const loadgroupmess = async (receiver, groupname) => {\r\n    const response = await fetch('http://localhost:5200/loadgroupmessage', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ \"groupname\": groupname }),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n\r\n\r\n    const messageDisplayContainer = document.getElementById(\"messageDisplay\");\r\n    if (messageDisplayContainer != null) {\r\n      messageDisplayContainer.innerHTML = \"\";\r\n    }\r\n\r\n\r\n    if (result.length === 0) {\r\n      messageDisplayContainer.innerHTML = \"\";\r\n      return;\r\n    }\r\n    let lastDate = \"28/12/2024\";\r\n\r\n    result.forEach((currentEle) => {\r\n      const { receiver: messageReceiver, chat, currentDate, currentTime } = currentEle;\r\n\r\n\r\n      if (currentDate !== lastDate) {\r\n        lastDate = currentDate;\r\n        const dateHeader = document.createElement(\"h1\");\r\n        dateHeader.className = \"flex justify-center items-center h-12\";\r\n\r\n        const dateContainer = document.createElement(\"span\");\r\n        dateContainer.className = \"bg-white border-3  border-yellow-700  text-[1.3vw] text-black h-[6vh] w-[6.5vw] py-[1vh] text-center rounded-md\";\r\n        dateContainer.innerText = currentDate;\r\n\r\n        dateHeader.append(dateContainer);\r\n        messageDisplayContainer.appendChild(dateHeader);\r\n      }\r\n\r\n      const messageBubble = document.createElement(\"div\");\r\n      messageBubble.className = `p-3 rounded-lg m-2 max-w-xs w-[20vw] ${username === messageReceiver\r\n        ? \"bg-blue-500 text-white self-end ml-auto\"\r\n        : \"bg-gray-200 text-black self-start mr-auto\"\r\n        }`;\r\n      messageBubble.style.marginBottom = \"1rem\";\r\n      messageBubble.style.minHeight = \"10vh\";\r\n      messageBubble.style.height = \"auto\";\r\n      messageBubble.style.display = \"flex\";\r\n      messageBubble.style.flexDirection = \"column\";\r\n\r\n      const messageWrapper = document.createElement(\"div\");\r\n      messageWrapper.className = \"flex flex-col h-auto\";\r\n\r\n      const receiverText = document.createElement(\"p\");\r\n      receiverText.className = \"text-[1.1vw] font-semibold mb-1 text-gray-700 break-words\";\r\n      receiverText.innerText = `From: ${messageReceiver}`;\r\n\r\n      const messageText = document.createElement(\"p\");\r\n      messageText.className = \"text-[1.3vw] mb-1 break-words\";\r\n      messageText.innerText = chat;\r\n\r\n      const messageDateTime = document.createElement(\"span\");\r\n      messageDateTime.className = \"text-[1vw] text-white self-end break-words\";\r\n      messageDateTime.innerHTML = `${currentDate}<br>${currentTime}`;\r\n\r\n      messageWrapper.appendChild(receiverText);\r\n      messageWrapper.appendChild(messageText);\r\n      messageWrapper.appendChild(messageDateTime);\r\n\r\n      messageBubble.appendChild(messageWrapper);\r\n\r\n      messageDisplayContainer.appendChild(messageBubble);\r\n\r\n    });\r\n\r\n    messageDisplayContainer.scrollTop = messageDisplayContainer.scrollHeight;\r\n\r\n  };\r\n\r\n  const loadindimess = async (receiver, sender) => {\r\n\r\n    const response = await fetch('http://localhost:5100/tofetchindichat', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ \"receiver\": receiver, \"sender\": sender }),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    let messageDisplayContainer = document.getElementById(\"messageDisplay\");\r\n    if (messageDisplayContainer != null)\r\n      messageDisplayContainer.innerHTML = \"\";\r\n    const result = await response.json();\r\n    if (result.length == 0) {\r\n\r\n      messageDisplayContainer.innerHTML = \"\";\r\n      return;\r\n    }\r\n\r\n    result.sort((a, b) => {\r\n\r\n      const [dayA, monthA, yearA] = a.currentDate.split('/').map(Number);\r\n      const [dayB, monthB, yearB] = b.currentDate.split('/').map(Number);\r\n\r\n      if (yearA !== yearB) return yearA - yearB;\r\n      if (monthA !== monthB) return monthA - monthB;\r\n      if (dayA !== dayB) return dayA - dayB;\r\n\r\n      const timeA = a.currentTime.split(':').map(Number);\r\n      const timeB = b.currentTime.split(':').map(Number);\r\n\r\n\r\n      if (timeA[0] !== timeB[0]) return timeA[0] - timeB[0];\r\n      if (timeA[1] !== timeB[1]) return timeA[1] - timeB[1];\r\n      return timeA[2] - timeB[2];\r\n    });\r\n\r\n    let lastDate = \"10/12/2024\";\r\n\r\n    result.forEach((currentEle) => {\r\n      const { chat, currentDate, currentTime, receiver, sender, whichuser } = currentEle;\r\n\r\n\r\n      if (currentDate !== lastDate) {\r\n        lastDate = currentDate;\r\n        const dateHeader = document.createElement(\"h1\");\r\n        dateHeader.className = \"flex justify-center items-center h-12\";\r\n\r\n        const dateContainer = document.createElement(\"span\");\r\n        dateContainer.className = \"bg-white border-3  border-yellow-700  text-[1.3vw] text-black h-[6vh] w-[6.5vw] py-[1vh] text-center rounded-md\";\r\n        dateContainer.innerText = currentDate;\r\n\r\n        dateHeader.append(dateContainer);\r\n        messageDisplayContainer.appendChild(dateHeader);\r\n      }\r\n\r\n\r\n      const messageBubble = document.createElement(\"div\");\r\n      messageBubble.className = `p-3 rounded-lg m-2 max-w-xs w-[20vw] ${whichuser === receiver\r\n        ? \"bg-blue-500 text-white self-end ml-auto\"\r\n        : \"bg-gray-200 text-black self-start mr-auto\"\r\n        }`;\r\n      messageBubble.style.marginBottom = \"1rem\";\r\n      messageBubble.style.minHeight = \"10vh\";\r\n      messageBubble.style.height = \"auto\";\r\n      messageBubble.style.display = \"flex\";\r\n      messageBubble.style.flexDirection = \"column\";\r\n\r\n\r\n\r\n      const messageWrapper = document.createElement(\"div\");\r\n      messageWrapper.className = \"flex flex-col\";\r\n\r\n      const messageText = document.createElement(\"p\");\r\n      messageText.className = \"text-[1.3vw] mb-1 break-words\";\r\n      messageText.innerText = chat;\r\n\r\n\r\n      const messageTime = document.createElement(\"span\");\r\n      messageTime.className = `text-[1vw] ${sender === receiver || whichuser == receiver ? \"text-white\" : \"text-black\"} self-end`;\r\n      messageTime.innerText = currentTime;\r\n\r\n\r\n\r\n\r\n      messageWrapper.appendChild(messageText);\r\n      messageWrapper.appendChild(messageTime);\r\n\r\n\r\n      messageBubble.appendChild(messageWrapper);\r\n\r\n      messageDisplayContainer.appendChild(messageBubble);\r\n    });\r\n\r\n    messageDisplayContainer.scrollTop = messageDisplayContainer.scrollHeight;\r\n\r\n\r\n  };\r\n\r\n\r\n  const messageBox = async (e, flag = \"true\") => {\r\n    e.stopPropagation();\r\n    if (flag == \"true\") {\r\n      if (messagetext == \"Type message here\") {\r\n        const d = e.target.value;\r\n        const i = d.indexOf('Type message here')\r\n        const m1 = d.substring(i + ('Type message here'.length));\r\n        setmessagetext(m1);\r\n      }\r\n      else if (e.target.value && e.target.value.length > 0) {\r\n\r\n        setmessagetext(e.target.value);\r\n      }\r\n      else {\r\n\r\n        setmessagetext(\"Type message here\");\r\n      }\r\n    }\r\n    else {\r\n      if (messagetext == \"Type message here\") {\r\n        e.target.value = \"\";\r\n        setmessagetext(e.target.value);\r\n      }\r\n    }\r\n\r\n  }\r\n  const sendGroupmessage = async (e) => {\r\n    const chat = messagetext;\r\n    const groupname = senderGroupName.current;\r\n\r\n    const receiver = username;\r\n\r\n    const now = new Date();\r\n\r\n\r\n    const day = now.getDate();\r\n    const month = now.getMonth() + 1;\r\n    const year = now.getFullYear();\r\n\r\n    const hours = now.getHours();\r\n    const minutes = now.getMinutes();\r\n    const seconds = now.getSeconds();\r\n\r\n\r\n    const currentDate = `${day}/${month}/${year}`;\r\n    const currentTime = `${hours}:${minutes}:${seconds}`;\r\n\r\n    setmessagetext(\"Type message here\");\r\n    const response = await fetch('http://localhost:5200/savegroupmessage', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        \"receiver\": receiver,\r\n        \"groupname\": groupname,\r\n        \"chat\": chat,\r\n        \"currentDate\": currentDate,\r\n        \"currentTime\": currentTime\r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    socket.emit('send_message_group', { receiver, groupname, chat, currentDate, currentTime });\r\n\r\n    setSearchbool(false);\r\n    fetchintialusergroup();\r\n    loadgroupmess(receiver, senderGroupName.current);\r\n  }\r\n\r\n  const sendMessage = async (e) => {\r\n    const textToSend = messagetext;\r\n    const receiver = username;\r\n    const sender = senderGroupName.current;\r\n\r\n    if (textToSend.length == 0) {\r\n      setmessagetext(\"Type message here\");\r\n      return;\r\n    }\r\n    if (isgroupchat == false) {\r\n      const identifier = receiver + ' (Self)';\r\n      if (senderGroupName.current == identifier) {\r\n\r\n\r\n        const now = new Date();\r\n\r\n        const day = now.getDate();\r\n        const month = now.getMonth() + 1;\r\n        const year = now.getFullYear();\r\n\r\n        const hours = now.getHours();\r\n        const minutes = now.getMinutes();\r\n        const seconds = now.getSeconds();\r\n\r\n\r\n        const currentDate = `${day}/${month}/${year}`;\r\n        const currentTime = `${hours}:${minutes}:${seconds}`;\r\n\r\n        setmessagetext(\"Type message here\");\r\n        const response = await fetch('http://localhost:5100/saveindichat', {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n            \"receiver\": receiver,\r\n            \"sender\": receiver,\r\n            \"whichuser\": receiver,\r\n            \"textToSend\": textToSend,\r\n            \"currentDate\": currentDate,\r\n            \"currentTime\": currentTime\r\n          }),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        setSearchbool(false);\r\n        fetchintialusergroup();\r\n\r\n        loadindimess(receiver, receiver);\r\n\r\n\r\n\r\n\r\n      }\r\n      else {\r\n        const identifier1 = receiver + '#' + sender;\r\n        const identifier2 = sender + '#' + receiver;\r\n        const now = new Date();\r\n\r\n\r\n        const day = now.getDate();\r\n        const month = now.getMonth() + 1;\r\n        const year = now.getFullYear();\r\n\r\n        const hours = now.getHours();\r\n        const minutes = now.getMinutes();\r\n        const seconds = now.getSeconds();\r\n\r\n\r\n        const currentDate = `${day}/${month}/${year}`;\r\n        const currentTime = `${hours}:${minutes}:${seconds}`;\r\n\r\n        setmessagetext(\"Type message here\");\r\n        const response = await fetch('http://localhost:5100/saveindichat', {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n            \"receiver\": receiver,\r\n            \"sender\": sender,\r\n            \"whichuser\": receiver,\r\n            \"textToSend\": textToSend,\r\n            \"currentDate\": currentDate,\r\n            \"currentTime\": currentTime\r\n          }),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        const result = await response.json();\r\n        const response2 = await fetch('http://localhost:5100/saveindichat', {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n            \"receiver\": sender,\r\n            \"sender\": receiver,\r\n            \"whichuser\": receiver,\r\n            \"textToSend\": textToSend,\r\n            \"currentDate\": currentDate,\r\n            \"currentTime\": currentTime\r\n          }),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        const result2 = await response2.json();\r\n        socket.emit('send_message', { identifier1, identifier2, receiver, sender, textToSend, currentDate, currentTime });\r\n\r\n        setSearchbool(false);\r\n        fetchintialusergroup();\r\n        loadindimess(receiver, senderGroupName.current);\r\n\r\n      }\r\n    }\r\n  }\r\n  const submitNewGroup = async () => {\r\n    let group_name = document.getElementById(\"group_name\");\r\n    const val = group_name.value;\r\n    if (val.length == 0) {\r\n      let display_res = document.getElementById(\"display_res\");\r\n      display_res.textContent = \"Enter Group Name.\";\r\n      return;\r\n    }\r\n    else {\r\n      let display_res = document.getElementById(\"display_res\");\r\n      display_res.textContent = \"\";\r\n    }\r\n\r\n    if (usersingroups.length <= 1) {\r\n      let display_res = document.getElementById(\"display_res\");\r\n      display_res.textContent = \"Atleast 2 users are required.\";\r\n      return;\r\n    }\r\n    else {\r\n      let display_res = document.getElementById(\"display_res\");\r\n      display_res.textContent = \"\";\r\n    }\r\n\r\n    const response = await fetch('http://localhost:4000/signup', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ \"username\": val }),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    const data = await response.json();\r\n    const length = data.length;\r\n    if (length == 1) {\r\n      let display_res = document.getElementById(\"display_res\");\r\n      display_res.textContent = \"Group name matches with username.\";\r\n      return;\r\n    }\r\n    if (val.length > 24) {\r\n      let display_res = document.getElementById(\"display_res\");\r\n      display_res.textContent = \"Groupname must be 24 characters or less.\";\r\n      return;\r\n    }\r\n\r\n\r\n\r\n    const res = await fetch(\"http://localhost:5200/checkgroupexist\", {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        \"groupname\": val\r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    const res2 = await res.json();\r\n    if (res2.flag == \"true\") {\r\n      let display_res = document.getElementById(\"display_res\");\r\n      display_res.textContent = \"Group name already exists. Please choose a different one.\";\r\n      return;\r\n    }\r\n    else {\r\n      let display_res = document.getElementById(\"display_res\");\r\n      display_res.textContent = \"\";\r\n    }\r\n    let groupmember = [];\r\n    groupmember = usersingroups.map((user) => user.username);\r\n    groupmember.push(username);\r\n    const now = new Date();\r\n\r\n    const day = now.getDate();\r\n    const month = now.getMonth() + 1;\r\n    const year = now.getFullYear();\r\n\r\n    const hours = now.getHours();\r\n    const minutes = now.getMinutes();\r\n    const seconds = now.getSeconds();\r\n\r\n    const currentDate = `${day}/${month}/${year}`;\r\n    const currentTime = `${hours}:${minutes}:${seconds}`;\r\n    const response2 = await fetch('http://localhost:5200/savegroupinfo', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        \"receiver\": username,\r\n        \"groupname\": val,\r\n        \"groupmember\": groupmember,\r\n        \"currentDate\": currentDate,\r\n        \"currentTime\": currentTime\r\n      }),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    let display_res = document.getElementById(\"display_res\");\r\n    display_res.textContent = \"Group created successfully.\";\r\n    setTimeout(() => {\r\n      switchModal();\r\n      setSearchUsersgroup([]);\r\n      setUsersingroups([]);\r\n      fetchintialusergroup();\r\n    }, 2000);\r\n\r\n  }\r\n\r\n  const searchusersforgroup = async (e) => {\r\n    const sender = e.target.value;\r\n\r\n    if (sender.length > 0) {\r\n      const response = await fetch('http://localhost:5010/tofetch', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ \"username\": sender }),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      const data = await response.json();\r\n      const data_users = data.users\r\n      const data_group = data.groupMessages;\r\n\r\n      setSearchUsersgroup(data_users || []);\r\n\r\n    }\r\n    else {\r\n      setSearchUsersgroup([]);\r\n    }\r\n  }\r\n\r\n  const addingroup = (e, user) => {\r\n    e.preventDefault();\r\n    const alreadyAdded = usersingroups.some((element) => element._id === user._id);\r\n    if (alreadyAdded) return;\r\n\r\n    setUsersingroups((prev) => [...prev, user]);\r\n\r\n  }\r\n  const removeingroup = (e, user) => {\r\n    e.preventDefault();\r\n    setUsersingroups((prev) => prev.filter((element) => element._id !== user._id))\r\n  }\r\n  const fetchintialusergroup = async () => {\r\n    const res1 = await fetch('http://localhost:5100/intialindires', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ receiver: username }),\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const data1 = await res1.json();\r\n\r\n\r\n    data1.forEach(element => {\r\n      const identifier1 = username + '#' + element.sender;\r\n      const identifier2 = element.sender + '#' + username;\r\n\r\n      socket.emit(\"join_room\", identifier1);\r\n      socket.emit(\"join_room\", identifier2);\r\n    });\r\n\r\n\r\n    const res2 = await fetch('http://localhost:5200/intialresultgroup', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ receiver: username }),\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const data2 = await res2.json();\r\n\r\n    data2.forEach(element => {\r\n      socket.emit(\"join_room_group\", element.groupname);\r\n    });\r\n\r\n\r\n    const processedData2 = await Promise.all(\r\n      data2.map(async (group) => {\r\n\r\n        const { groupname, currentDate, currentTime, groupmember } = group;\r\n\r\n\r\n        const res3 = await fetch('http://localhost:5200/intialgroupres', {\r\n          method: 'POST',\r\n          body: JSON.stringify({ groupname }),\r\n          headers: { 'Content-Type': 'application/json' }\r\n        });\r\n        const data3 = await res3.json();\r\n\r\n\r\n        const latestMessage = data3[0]?.latestMessage || \"Start your messaging\";\r\n        const n1currentDate = data3[0]?.currentDate || currentDate;\r\n        const n1currentTime = data3[0]?.currentTime || currentTime;\r\n\r\n        return {\r\n          groupname,\r\n          groupmember,\r\n          \"currentDate\": n1currentDate,\r\n          \"currentTime\": n1currentTime,\r\n          chat: latestMessage\r\n        };\r\n      })\r\n    );\r\n\r\n\r\n\r\n\r\n    let tresult = [...data1, ...processedData2];\r\n\r\n\r\n    let temp = tresult.sort((b, a) => {\r\n\r\n      const [dayA, monthA, yearA] = a.currentDate.split('/').map(Number);\r\n      const [dayB, monthB, yearB] = b.currentDate.split('/').map(Number);\r\n\r\n\r\n      if (yearA !== yearB) return yearA - yearB;\r\n      if (monthA !== monthB) return monthA - monthB;\r\n      if (dayA !== dayB) return dayA - dayB;\r\n\r\n\r\n      const timeA = a.currentTime.split(':').map(Number);\r\n      const timeB = b.currentTime.split(':').map(Number);\r\n\r\n\r\n      if (timeA[0] !== timeB[0]) return timeA[0] - timeB[0];\r\n      if (timeA[1] !== timeB[1]) return timeA[1] - timeB[1];\r\n      return timeA[2] - timeB[2];\r\n    });\r\n\r\n\r\n    setIntial_user_group([...temp]);\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n \r\n    fetchintialusergroup();\r\n  \r\n   \r\n    const interval = setInterval(() => {\r\n      fetchintialusergroup();\r\n    }, 3000);\r\n  \r\n   \r\n    socket.on(\"receive_message\", (data) => {\r\n      const { sender, textToSend, currentDate, currentTime } = data;\r\n  \r\n  \r\n      setIntial_user_group((prevGroups) => {\r\n        const updatedGroups = [...prevGroups];\r\n        const groupIndex = updatedGroups.findIndex((group) => group.sender === sender);\r\n        if (groupIndex > -1) {\r\n          updatedGroups[groupIndex] = {\r\n            ...updatedGroups[groupIndex],\r\n            latestMessage: textToSend,\r\n            currentDate,\r\n            currentTime,\r\n          };\r\n        } else {\r\n          updatedGroups.unshift({ sender, latestMessage: textToSend, currentDate, currentTime });\r\n        }\r\n        return updatedGroups;\r\n      });\r\n    });\r\n  \r\n    return () => {\r\n      clearInterval(interval);\r\n      socket.off(\"receive_message\");\r\n    };\r\n  }, []);\r\n  \r\n\r\n  const [deleleCHAT, setDeleteChat] = useState(false);\r\n\r\n  const toggleExit = () => {\r\n    setDeleteChat(!deleleCHAT);\r\n  }\r\n\r\n  const deletechat = async () => {\r\n    const receiver = username;\r\n    const sender = senderGroupName.current;\r\n    let delele_result = document.getElementById(\"delete_result\");\r\n    if (isgroupchat == true) {\r\n\r\n      delele_result.innerHTML = \"Group Chat is deleted.\";\r\n      const response = await fetch('http://localhost:5200/getgroupmember', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ \"groupname\": senderGroupName.current }),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      const res = await response.json();\r\n      let groupmember = res[0].groupmember;\r\n      let newgroupmember = [];\r\n      groupmember.forEach((user) => {\r\n        if (user != username) {\r\n          newgroupmember.push(user)\r\n        }\r\n      })\r\n      const response2 = await fetch('http://localhost:5200/updategroupmember', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ \"groupname\": senderGroupName.current, \"groupmember\": newgroupmember }),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n\r\n    }\r\n    else {\r\n\r\n      delele_result.innerHTML = \"Individual Chat is deleted.\";\r\n      const response = await fetch('http://localhost:5100/deleteindichat', {\r\n        method: 'DELETE',\r\n        body: JSON.stringify({ \"receiver\": receiver, \"sender\": sender }),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n    }\r\n    setTimeout(() => {\r\n      delele_result.innerHTML = \"\";\r\n      setDeleteChat(false);\r\n      setMscreen(true);\r\n      senderGroupName.current = \"\";\r\n      setusersgroupname(\"\");\r\n      fetchintialusergroup();\r\n    }, 1000);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className='class=\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]'>\r\n        {addgroupModal && (\r\n          <div className=\"modal-background fixed top-0 left-0 w-full h-full   z-10 bg-black bg-opacity-50\" />\r\n        )}\r\n        {addgroupModal &&\r\n          <div className='fixed top-10 left-[25vw] h-[80vh] w-[50vw] z-20 rounded-2xl' style={{\r\n            backgroundColor: \"#8EC5FC\",\r\n            backgroundImage: \"linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%)\"\r\n\r\n\r\n            }}>\r\n            <button onClick={switchModal} className='bg-red-500  hover:bg-red-600 border-4 hover:scale-105 rounded-md border-red-500 hover:border-red-600 mt-[1vh] mr-[0.5vw] float-right text-[1.5vw] h-[8vh] w-[5vw]' >Close</button>\r\n            <input type=\"text\" id=\"group_name\" name=\"\" placeholder='Enter Group Name: ' className='relative top-[3vh] left-[1.1vw] w-[30vw] h-[6vh] pl-[0.5vw] border-black border-2 rounded-md' />\r\n            <input type=\"text\" id=\"search_user\" onChange={e => searchusersforgroup(e)} name=\"\" placeholder='Search User: ' className='relative top-[5vh] left-[1.1vw] w-[30vw] h-[6vh] pl-[0.5vw] border-black border-2 rounded-md' />\r\n            <div className='bg-white h-[45vh] mt-[7vh] w-[23vw] ml-[1vw] border-4 border-blue-300 float-left overflow-y-auto class=\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]'>\r\n              {searchusersgroup.length > 0 ? (\r\n                <ul className='text-[2vw] mt-[2vh]  searchnot'>\r\n                  {searchusersgroup.map((user) => (user.username != username &&\r\n                    <li key={user._id} className='border-4 rounded-xl  hover:scale-105 border-gray-700 cursor-pointer mt-[2vh]   ml-[0.5vw]   h-[10vh]  w-[21vw]  searchnot text-[2vw]'>{user.username} <button type=\"button\" onClick={e => addingroup(e, user)} className='bg-green-400 rounded-md hover:bg-green-600 border-green-400 hover:border-green-600 h-[6vh] border-4   float-right mt-[1.3vh] mr-[1vw]  w-[6vw]'>Add</button> </li>\r\n                  ))}\r\n                </ul>\r\n              ) : (<ul className='text-[1.8vw] mt-2 ml-7 searchnot'> No Users found</ul>)}\r\n            </div>\r\n            <div className='bg-white h-[45vh] border-4 border-blue-500 mt-[7vh] w-[23vw] mr-[1vw] float-right class=\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]'>\r\n              {usersingroups.length > 0 ? (\r\n                <ul className='text-[2vw] mt-[2vh]'>\r\n                  {usersingroups.map((user) => (\r\n                    <li key={user._id} style={{ width: '90%', marginLeft: '5%' }} className='border-4 rounded-xl  hover:scale-105 cursor-pointer  border-black pl-2  h-[10vh]  w-88   text-[2vw]'>{user.username} <button type=\"button\" onClick={e => removeingroup(e, user)} className='bg-red-500 hover:bg-red-600 border-red-500 hover:border-red-600 rounded-md hover:scale-105 border-4 float-right mt-[0.2vh] mr-1 h-[6vh]  w-[8vw]'>Remove</button> </li>\r\n                  ))}\r\n                </ul>\r\n              ) : (<ul className='text-[1.8vw] mt-2 ml-7 searchnot'> No Users is added</ul>)}\r\n            </div>\r\n            <div id='display_res' className='text-black font-semibold h-[6vh] mt-[53vh] bg-red-400 text-[1.5vw] h-[2.5vw] mx-auto w-[30vw] text-center'></div>\r\n            <div className='bg-yellow-400 h-[6vh]'></div>\r\n            <button className='bg-green-500  hover:bg-green-600  hover:scale-105  h-[6vh]  hover:border-green-600 border-green-500 rounded-md ml-[20vw] border-4  text-[1.5vw] w-[8vw]' onClick={e => submitNewGroup(e)} >Submit</button>\r\n          </div>}\r\n        <div className='flex flex-row h-screen' onClick={handleContainerClick} >\r\n          <div className=\"bg-gray-400 flex items-center justify-center\" style={{ width: '5vw', height: '100vh' }}>\r\n\r\n\r\n            <Link to=\"/\" className='inline mt-[85vh]'><button className='bg-white rounded-xl h-[9vh] w-[4.8vw] border-4 text-[1.1vw] border-black hover:bg-gray-500 hover:scale-105'>Log Out</button></Link>\r\n\r\n          </div>\r\n          <div style={{ width: '40vw' }}>\r\n            <div className='bg-fixed '>\r\n              <span className='text-[2vw] font-bold relative top-[2vh] pl-[2vw]'>\r\n                Chats\r\n              </span>\r\n\r\n              <button type=\"button\" id=\"to_add_group\" className='relative left-[14.5vw] text-[2vw] top-3 font-bold border-black rounded-lg border-4 border-solid visible hover:scale-105' onClick={switchModal}>New Group Chat</button>\r\n\r\n              <div className='mt-[5vh] flex justify-center  ml-[2vw]' id='search_container' >\r\n                <span className='rounded-l-md bg-gray-200 inline-block h-[10vh] pl-[1vw] ml-[0.2vw] hover:cursor-pointer ' onClick={(e) => clickOnImage(e)}><img src=\"/searchIcon.png\" alt=\"\" id='search_image' className='inline-block h-[4vh] mt-[3vh] m' /></span>\r\n                <input type=\"text\" ref={inputRef} placeholder='Search' id=\"search_user\" className=' h-[10vh] rounded-r-md inline bg-gray-200' onChange={(e) => oninput(e)}\r\n                  style={{ outline: 'None', width: '90%', paddingLeft: '5%', marginRight: '6%' }} onClick={(e) => clickOnImage(e)} />\r\n              </div>\r\n            </div>\r\n            {searchbool ? (\r\n              <div id='search_panel' className='class=\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]  searchnot ' style={{ maxHeight: '480px', overflowY: 'scroll' }}>\r\n\r\n                {searchusers.length > 0 ? (\r\n                  <ul className='text-2xl mt-[2vh]  searchnot'>\r\n                    <span className='ml-[2.2vw] text-[2vw] searchnot'>Search User</span>\r\n                    {searchusers.map((user) => (\r\n                      <li key={user._id} onClick={(e) => startindivimessage(e, user.username, \"true\")} className='hover:scale-105 rounded-xl border-4 cursor-pointer mt-[2vh] ml-[2vw] border-gray-700 pl-[1vw] pt-[1vh]  h-[10vh]  w-[36vw]  searchnot text-[2vw]'>{user.username}</li>\r\n                    ))}\r\n                  </ul>\r\n                ) : <div className='ml-[2.2vw] mt-[0.5vh] text-[2vw] searchnot'>Search User not Found</div>}\r\n              </div>) :\r\n              (<div className=' overflow-auto h-[77vh]  class=\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]'  >\r\n                {intial_user_group.length > 0 && (\r\n                  <ul className=''>\r\n                    <div >\r\n                      {intial_user_group.map((item, index) => (\r\n                        <li key={index} className='border-4 rounded-xl cursor-pointer mt-[2vh] ml-[2vw] border-gray-700 pl-[1vw] pt-[1vh]  hover:scale-105  w-[36vw]  searchnot text-[2vw]'>\r\n\r\n                          {item.groupname ? (\r\n                            <div className='h-[15vh] relative' onClick={(e) => startgroupmessage(e, item.groupname)}>\r\n                              <p className=\"text-[3vh] font-bold text-blue-800\">{item.groupname}</p>\r\n                              <p className=\"text-[2vh] text-gray-600 overflow-hidden text-ellipsis whitespace-nowrap\">Message: {item.chat}</p>\r\n                              <p className=\"text-[2vh] text-gray-600 float-right mr-2\">Date: {item.currentDate}</p>\r\n                              <p className=\"text-[2vh] text-gray-600 float-right absolute bottom-0 right-2\">Time: {item.currentTime}</p>\r\n                            </div>\r\n                          ) : (\r\n\r\n                            <div onClick={(e) => startindivimessage(e, item.sender)} className='h-[15vh] relative'>\r\n                              <p className=\"text-[3vh] font-bold text-green-800\">From: {item.sender}</p>\r\n                              <p className=\"text-[2vh] text-gray-600 overflow-hidden text-ellipsis whitespace-nowrap\">Message: {item.latestMessage}</p>\r\n                              <p className=\"text-[2vh] text-gray-600 float-right mr-2\">Date: {item.currentDate}</p>\r\n                              <p className=\"text-[2vh] text-gray-600 float-right absolute bottom-0  right-2\">Time: {item.currentTime}</p>\r\n                            </div>\r\n                          )}\r\n                        </li>\r\n                      ))}\r\n                    </div>\r\n                  </ul>\r\n                )}\r\n\r\n              </div>)}\r\n          </div>\r\n          {mscreen ? (\r\n            <div className='text-[2vw] flex justify-center items-center  class=\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]' style={{\r\n              width: '55vw', backgroundColor: \"#FFDEE9\",\r\n              backgroundImage: \"linear-gradient(0deg, #FFDEE9 0%, #B5FFFC 100%)\"\r\n            }}>\r\n              <div>\r\n                Start Messaging\r\n              </div>\r\n            </div>) :\r\n            (<div style={{ width: '55vw', height: '99.5vh' }} >\r\n              <div className=\"bg-gray-300 pl-10 text-[6vh] h-10vh\" >\r\n                <div className=\"flex justify-between items-center w-full\">\r\n                  <span className=\"text-[3vw]\">{usersgroupname}</span>\r\n                  <span className=\"inline-block mr-2 mb-2\">\r\n                    <button onClick={toggleExit} className=\"bg-red-500 h-[8vh] w-[10vw] text-[2vw]   rounded-md hover:bg-red-600 border-4 border-red-500 hover:border-red-600 hover:scale-105\">\r\n                      Exit {isgroupchat === true ? \"Group\" : \"Chat\"}\r\n                    </button>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className='flex-1 overflow-y-auto class=\"[&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]' id=\"messageDisplay\" style={{\r\n                height: '80%', backgroundImage: \"linear-gradient( 109.6deg,  rgba(112,246,255,0.33) 11.2%, rgba(221,108,241,0.26) 42%, rgba(229,106,253,0.71) 71.5%, rgba(123,183,253,1) 100.2% )\"\r\n              }} ></div>\r\n              <div className='bg-gray-500' style={{ height: '10%' }}><input type=\"text\" value={messagetext} onChange={e => messageBox(e)} onClick={e => messageBox(e, false)} name=\"\" id=\"\" className='inline-block ' style={{ width: '75%', paddingLeft: '1%', marginLeft: '10%', height: '70%', marginTop: '1%' }} /> <button style={{ width: '10%', height: '50%' }}><img src=\"/rightarrow.png\" onClick={isgroupchat == false ? (e) => sendMessage(e) : (e) => sendGroupmessage(e)} style={{ width: \"50%\", height: '150%', paddingTop: '5%' }} /></button></div>\r\n            </div>)}\r\n        </div>\r\n        {deleleCHAT && (\r\n          <div className=\"modal-background fixed top-0 left-0 w-full h-full z-10 bg-black bg-opacity-50\" />\r\n        )}\r\n        {deleleCHAT &&\r\n          <div className='bg-white fixed top-[30vh] left-[25vw] h-[30vh] w-[50vw] z-20 rounded-2xl '>\r\n            <div className='text-black h-[5vh] text-[1.4vw] mx-auto w-[30vw] mt-[2vh] text-center font-semibold'>Are you sure you want to delete this chat?</div>\r\n            <div className='text-black h-[5vh] text-[1.4vw] w-[50vw] text-center font-semibold'>{isgroupchat == true ? \"Deleting it will also remove you from the group.\" : \"Deleting the message will also remove the user from your home list.\"}</div>\r\n            <div id=\"delete_result\" className='h-[5vh] text-green-500 mt-[1vh] text-[1.5vw] text-center'></div>\r\n            <div className='mt-[0.5vh]'><button className='bg-green-500 hover:bg-green-600 h-[9vh] hover:scale-105 rounded-xl border-4 border-green-500 hover:border-green-600 w-[15vw] ml-[3vw]' onClick={deletechat}>Yes</button><button onClick={toggleExit} className='bg-red-500 hover:bg-red-700 border-red-500  hover:border-red-700  hover:scale-105  border-4 h-[9vh] w-[15vw] rounded-xl float-right mr-[3vw]'>No</button></div>\r\n\r\n          </div>}\r\n      </div >\r\n\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}